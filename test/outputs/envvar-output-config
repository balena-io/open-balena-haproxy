global
tune.ssl.default-dh-param 1024

defaults
timeout connect 5000
timeout client 60000
timeout server 60000

frontend http_80_in
mode http
option forwardfor
bind *:80
reqadd X-Forwarded-Proto:\ http

acl host_first_backend hdr_dom(host) -i first.test.domain
use_backend first_backend if host_first_backend

acl host_second_backend hdr_dom(host) -i second.test.domain
use_backend second_backend if host_second_backend

acl host_third_backend hdr_dom(host) -i third.test.domain
use_backend third_backend if host_third_backend

acl host_fourth_backend hdr_dom(host) -i fourth.test.domain
use_backend fourth_backend if host_fourth_backend

acl host_fifth_backend hdr_dom(host) -i fifth.test.domain
use_backend fifth_backend if host_fifth_backend

backend first_backend
mode http
option forwardfor
balance roundrobin
server first first:80 check port 80

backend second_backend
mode http
option forwardfor
balance roundrobin
server second second:80 check port 80

backend third_backend
mode http
option forwardfor
balance roundrobin
server third third:80 check port 80

backend fourth_backend
mode http
option forwardfor
balance roundrobin
server fourth fourth:80 check port 80

backend fifth_backend
mode http
option forwardfor
balance roundrobin
server fifth fifth:80 check port 80
